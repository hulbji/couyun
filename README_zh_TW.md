# 凑韻詩詞格律檢測工具

余早嗜詩，嘗久事白話詩，不至於能，然亦小有所得。然於古韻，仍存敬畏，未敢涉足，蓋因音律之道未得其門而入，自覺力有不逮。  
後因學東瀛語，始知其字有音讀、訓讀二法，音讀中又分吳、漢、唐，皆源自華夏古音，此所謂“域外音”也。各方言、域外音等，雖歷經變遷，然於硏究古音仍具管窺之效。余由此漸入佳境。  
格律者，音之規則也，其抑揚頓挫，華夏千年文化精髓半在其中。今人或有不屑，以為迂腐；或有畏難者，久難入門。所謂“靡不有初，鮮克有終”，如上種種，連“初”都難以邁出，更令人惋惜。 網上闡述格律精妙之處者眾多，然余自愧詞窮，難以盡述。  
近來忽有感悟，近體詩詞前有珠玉，今人所作難以企及，但格律規則不過平仄遊戲，規則旣定，便可作程序判之。遂作一版，以饗詩友。因早有“搜韻網”在前，功能齊全，使用方便。余效倣之，絶不能及。詩友戲稱“凑韻”。後屢次更新，以至於此。又作一《六州歌頭》。以勵余及眾詩友：  

詩騷幷峙，從此鬼神驚。荆榛路，靈均骨，沉汨水，證嘉名。魏晉風霜烈，子建筆，嵇康曲，淵明酒，震雷霆。後人傾。李杜光輝萬丈，鯨濤動，鵬翼垂溟。看香山古韻，愛者遍東瀛。訴盡平生。久回縈。  
更東坡酹，稼軒劍，易安絮，放翁情。西河憶，甘州望，揚州慨，萬調榮。百代風雷蕩，崑刀刻，雪泥銘。薪火繼，江河涌，待新旌。莫嘆焦桐古澀，律中隨處有瑤瓊。使雲箋鋪展，椽筆就辰星。試聽新聲。  

## 使用方法：  
下載應用程序或運行rhythm.py即可運行。分為3個模塊。  

### 詩校驗：  
輸入五言或七言的律詩或絶句或排律，選擇使用的韻書（默認為平水韻）程序會自動判斷其所屬的格式，幷給出判斷結果。輸入的詩歌可以帶標點以及括號內的注釋，程序會自動忽略括號中的內容。幷通過以下內容展示。  
“〇”當前字平仄正确，“◎”當前字屬於多音字，“●”當前字平仄錯誤，“？”當前字不在韻書中，無法斷定平仄韻部，對應的，“□”表示押韻，“■”表示不押韻。（由於排版問題，此處由老版的格式代替）如分析杜甫的《絶句》：  
> 江碧鳥逾白，山靑花欲燃。  
> 今春看又過，何日是歸年。  
>
> 五言絶句
> 
> 中仄中平仄  
> 江碧鳥逾白	  
> 〇〇〇〇〇  
>
> 平平平仄平  
> 山靑花欲燃	先韻 押韻   
> 〇〇〇〇〇  
>  
> 中平平仄仄  
> 今春看又過	  
> 〇〇中〇中  
>
> 中仄仄平平  
> 何日是歸年	先韻 押韻  
> 〇〇〇〇〇  
> 檢測完畢，耗時0.00919s  

### 詞校驗  
輸入一首詞，你可以指定這首詞的詞牌（一個詞牌可能有多種名稱，如“賀新郎”又稱為“乳燕飛”，“金縷曲”，部分詞牌的別名也是支持的），若未指定則按照輸入的句讀自動匹配詞牌。  
同時你也可以指定你所用的格式是《欽定詞譜》的格幾，使用數字表示，未指定或指定格式不存在則自動匹配。  
如果在能够匹配詞牌（或輸入詞牌無誤且內容能够與詞牌中的格式匹配），則會展示輸出結果。詞牌格式依據《欽定詞譜》。  
如分析李白的《憶秦娥》，在不輸入詞牌及格式的情況下結果：  
> 簫聲咽，秦娥夢斷秦樓月。  
> 秦樓月，年年柳色，灞陵傷別。  
> 樂遊原上清秋節，咸陽古道音塵絶。   
> 音塵絶，西風殘照，漢家陵闕。  
>
> 憶秦娥  
> 你的格式為 格一  
>
> 中中仄韻  
> 簫聲咽 七部仄、十八部入聲、七部平 第一組韻 押韻  
> 〇〇中  
>
> 中平中仄平平仄韻  
> 秦娥夢斷秦樓月 十八部入聲 第一組韻 押韻  
> 〇〇中〇〇〇〇  
>
> 平平仄疊  
> 秦樓月 十八部入聲 第一組韻 押韻  
> 〇〇〇  
>
> 中中中中句中中平仄韻  
> 年年柳色　灞陵傷別 十八部入聲 第一組韻 押韻  
> 〇〇〇〇　〇〇〇〇  
> 
> 中平中仄中平仄韻  
> 樂遊原上清秋節 十七部入聲、十八部入聲 第一組韻 押韻  
> 〇〇〇〇〇〇〇  
> 
> 中平中仄平平仄韻  
> 咸陽古道音塵絶 十八部入聲 第一組韻 押韻  
> 〇〇〇〇〇〇〇  
> 
> 平平仄疊  
> 音塵絶 十八部入聲 第一組韻 押韻  
> 〇〇〇  
>
> 中平中仄句中平平仄韻  
> 西風殘照　漢家陵闕 十八部入聲 第一組韻 押韻  
> 〇〇〇〇　〇〇〇〇  
> 檢測完畢，耗時0.04412s  

### 查字  
輸入一個漢字，可以查詢其在平水韻、詞林正韻、中華新韻和中華通韻中的韻部。如查詢字“涯”：  
> 涯  
>
> 涯在：  
> 平水韻九佳，詞林正韻五部平  
> 平水韻九佳，詞林正韻十部平  
> 平水韻六麻，詞林正韻十部平  
> 平水韻四支，詞林正韻三部平  
>
> 中華新韻一麻平  
>
> 中華通韻一啊平  
